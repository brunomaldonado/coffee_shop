{% load static %}

<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<script src="https://cdn.tailwindcss.com"></script>
<title>Coffe shop</title>
{% comment %}
<link rel="stylesheet" href="{% static 'style.css' %}" />
{% endcomment %}
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap" rel="stylesheet">
<link href="https://cdn.jsdelivr.net/npm/flowbite@2.5.2/dist/flowbite.min.css"  rel="stylesheet" />
<link href="https://cdn.jsdelivr.net/npm/tailwindcss@3.3.2/dist/tailwind.min.css" rel="stylesheet">
<style>
  * {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
  }

  body {
    width: 100%;
    overflow-y: auto;
    overflow-x: hidden;
    font-family: 'Poppins' sans-serif;
  }

  body.menu-open {
    overflow: hidden;
  }

  input[type="checkbox"]:focus {
    outline: none;
  }

  .shimmer-effect {
    background: linear-gradient(
      90deg,
      rgba(255, 255, 255, 0) 0%,
      rgba(255, 255, 255, 0.3) 50%,
      rgba(255, 255, 255, 0) 100%
    );
    background-size: 200% 100%;
    animation: shimmer 1.5s infinite;
  }

  @keyframes shimmer {
    0% {
      background-position: -200% 0;
    }
    100% {
      background-position: 200% 0;
    }
  }

  .background {
    padding-left: 1.5rem;
    padding-right: 1.5rem;
    background-color: hsla(0, 0%, 95.3%, 0.75);
    min-height: 100vh;
  }

  {% comment %} background::before {
    content: '';
    position: absolute;
    top: -10%;
    left: -10%;
    width: 120%;
    height: 120%;
    background-image: url("{% static 'assets/11731.' %}");
    background-size: cover;
    background-position: center;
    background-repeat: no-repeat;
    filter: blur(48px); /* blur-3xl en Tailwind = 48px */
    transform: scale(1.1);
    z-index: -1;
    opacity: 0.5; /* Opcional: ajusta la opacidad */
  } {% endcomment %}


  .backdrop_blur.show{
    width: 100%;
    height: 100%;
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    z-index: 20;
    backdrop-filter: blur(8px);
    background-color: hsla(0, 0%, 95.3%, 0.75);
    box-shadow: 1px 1px 10px 0 rgba(0, 0, 0, 0.05);
  }

  header {
    width: 100%;
    box-shadow: rgba(0, 0, 0, 0.35) 0px 5px 15px;
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    z-index: 20;
    margin: 0 auto;
    backdrop-filter: blur(8px);
    background-color: hsla(0, 0%, 95.3%, 0.75);
    box-shadow: 1px 1px 10px 0 rgba(0, 0, 0, 0.05);
    padding-left: 1.5rem;
    padding-right: 1.5rem;
    height: 50px;
    display: flex;
    align-items: center;
    justify-content: space-between;
  }
  header > a {
    display: flex;
    align-items: center;
    height: 100%;
  }
   header nav {
    display: flex;
    align-items: center;
    height: 100%;
  }

  header .logo {
    display: flex;
    align-items: center;
    font-family: "Poppins", sans-serif;
    {% comment %} width: 6rem;
    line-height: 6px; {% endcomment %}
  }

  .logo:hover {
    cursor: pointer;
  }

  .logo.active {
    display: none;
  }

  .nav-menu {
    width: 100%;
    height: 100%;
    display: flex;
    flex-direction: column;
    overflow-x: hidden;
    overflow-y: hidden;
    position: fixed;
    top: 0;
    right: 0;
    transform: translateX(100%);
    padding: 0;
    margin: 0;
    list-style: none;
  }

  .nav-menu.show {
    width: 100%;
    height: 100vh;
    z-index: 20;
    overflow-y: auto;
    transform: translateX(10%);
    transition: opacity 250ms ease-in-out, transform 250ms ease;
    background-color: hsla(0, 0%, 95.3%, 0.75);
    box-shadow: 1px 1px 10px 0 rgba(0, 0, 0, 0.05);
    background: rgb(252,252,252);
    background: linear-gradient(to bottom, rgba(252,252,252,1) 5%, rgba(255,255,255,0.75) 100%);
  }

  .nav-menu.close{
    width: 100%;
    height: 100vh;
    overflow-x: hidden;
    overflow-y: hidden;
    position: fixed;
    top: 0;
    right: 0;
    transform: translateX(100%);
  }

  .nav-menu li{
    margin-top: 18px;
    text-decoration: none;
    color: #330b0b;
    transition: 0.3s ease-out;
    text-transform: uppercase;
    list-style: none;
    padding: 8px 16px;
  }

  .nav-menu li:nth-child(1) {
    margin-top: 48px;
  }

  .nav-menu li a{
    font-weight: 600;
    font-family: "Poppins";
    font-size: 14px;
    display: block;
    padding-left: 18px;

  }

  .nav-menu li:hover,
  .nav-menu li:active {
    backdrop-filter: blur(8px);
    background-color: hsla(0, 0%, 95.3%, 0.75);
    background-color: burlywood;
  }

  .log_in__user {
    position: absolute;
    bottom: 60px;
    left: 18px;
  }

  .navbar-toggle {
    display: flex;
    justify-content: center;
    align-items: center;
    border: transparent;
    background: transparent;
    position: absolute;
    top: 8.5px;
    right: 20px;
    border-radius: 4px;
    width: 30px;
    height: 30px;
    z-index: 20;
    transition: all .5s ease-in-out;
    cursor: pointer;
    transform: scaleX(-1);
  }

  .menu-btn__burger {
    width: 23px;
    height: 2px;
    background: #000;
    border-radius: 4px;
    box-shadow: 0 2px 5px rgba(255, 101, 47, 0.2);
    transition: all .5s ease-in-out;
  }

  .menu-btn__burger::before,
  .menu-btn__burger::after {
    content: '';
    position: absolute;
    width: 23px;
    height: 2px;
    background: #000;
    border-radius: 4px;
    box-shadow: 0 2px 5px rgba(255, 101, 47, 0.2);
    transition: all .5s ease-in-out;
  }

  .menu-btn__burger::before {
    transform: translateY(-7px);
  }

  .menu-btn__burger::after {
    transform: translateY(7PX);
  }

  /* animation */

  .navbar-toggle.open .menu-btn__burger {
    transform: translateX(-10px);
    background: transparent;
    box-shadow: none;
  }

  .navbar-toggle.open .menu-btn__burger::before {
    transform: rotate(45deg) translate(7px, -7px);
  }
  .navbar-toggle.open .menu-btn__burger::after {
    transform: rotate(-45deg) translate(7px, 7px);
  }

  @keyframes showMenu {
    from {opacity: 0;}
    to {opacity: 1}
  }

  .navbar-toggle.active {
    position: fixed;
  }

  .middle_line {
    width: 85%;
    border-bottom: 4px solid #000;
    position: absolute;
    top: 50%;
    left: 45%;
    transform: translate(-50%, 0);
  }

  main {
    width: 100%;
    margin-top: 5rem;
    margin-bottom: 2rem;
  }

  /* Si hay padding que causa desbordamiento */
  form {
    padding-left: 0 !important;
    padding-right: 0 !important;
  }

  .order_detail {
    max-width: 700px;
    margin: 0 auto;
    padding: 1rem;
    border: 1px solid #ddd;
    border-radius: 8px;
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
    background: #fff;
  }

  .order_detail h2 {
    text-align: left;
    margin-bottom: 14px;
    font-weight: 600;
    font-size: 1.6rem;
  }

  .order_detail table {
    width: 100%;
    border-collapse: collapse;
    margin: 13px 0 20px 0;
  }

  table {
    width: 100%;
    border-collapse: collapse;
    margin-top: 1rem;
  }

  thead tr th{
    font-family: "Poppins", sans-serif;
    font-weight: 500;
  }

  th, td{
    text-align: left;
    border-bottom: 1px solid #ddd;
  }

  tbody tr td {
    padding: 0.25rem 0;
    font-family: "Poppins", sans-serif;
  }

  .quantity_input {
    width: 120px;
  }

  .summary {
    display: flex;
    justify-content: flex-end;
    flex-direction: column;
    align-items: flex-end;
    padding-right: 0.5rem;
  }

  .summary p {
    font-family: "Poppins", sans-serif;
    font-size: 14px;
  }

  .summary-row {
    display: grid;
    grid-template-columns: auto auto auto;
    gap: 0.25rem;
    margin-bottom: 0.0125rem;
    align-items: left;
  }

  .summary-label {
    text-align: right;
    font-weight: 400;
  }

  .summary-currency {
    text-align: right;
    font-weight: 600;
  }

  .summary-value {
    text-align: right;
    font-weight: 600;
    min-width: 3rem; /* Ajusta segÃƒÂon tus necesidades */
  }

  .footer-blur {
    backdrop-filter: blur(8px);
    background-color: hsla(0, 0%, 95.3%, 0.75);
  }

  .copyright {
    font-size: 14px;
    text-align: center;
    font-family: 'Poppins', sans-serif;
  }

  /* Ocultar el encabezado de la tabla en pantallas pequeÃƒÂ±as */

  @media screen and (max-height: 540px) {
    header nav .nav-menu.active {
      display: flex;
      animation: showMenu 350ms ease-in-out both;
      z-index: 20;
      overflow-y: auto;
      max-height: auto;
    }

    .log_in__user {
      position: relative;
      top: 60px;
      padding-bottom: 60px;
    }
  }

@media (max-width: 550px) {
  thead {
    display: none;
  }

  /* Estilos para cada fila como una tarjeta en mÃƒÂ3viles */
  tbody tr {
    display: block;
    border: 1px solid #e5e5e5;
    padding: 0.5rem;
    margin-bottom: 1rem;
    border-bottom: 1px solid #ddd;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.08);
    border-radius: 8px;
    background-color: #fff;
  }

  tbody tr td {
    padding: 0;
  }

  /* Para cada celda de la tabla */
  tbody td {
    display: flex;
    align-items: center;
    width: 100%;
    text-align: left;
  }

  /* Agregar etiquetas antes de cada dato */
  tbody td::before {
    content: attr(data-label);
    font-weight: 600;
    display: block;
    color: #333;
    margin-right: 0.5rem;
  }

  /* Product name */
  tbody td:nth-child(1) {
    font-family: "Poppins", sans-serif;
    font-weight: 600;
    margin-bottom: 0.25rem;
    padding-left: 0;

  }

  tbody td:nth-child(1)::before {
    content: "Product: ";
  }

  /* Quantity */
  tbody td:nth-child(2) {
    padding-left: 0;
  }

  tbody td:nth-child(2)::before {
    content: "Quantity: ";
    margin-bottom: 0.25rem;
  }

  /* Price */
  tbody td:nth-child(3)::before {
    content: "Price: ";
  }

  /* Total */
  tbody td:nth-child(4)::before {
    content: "Total: ";
  }

  /* Delete button - sin etiqueta */
  tbody td:nth-child(5)::before {
    content: none;
  }

  tbody td:nth-child(5) {
    margin-top: 0.5rem;
  }

  /* Ajustar el contenedor de quantity */
  .quantity_input {
    max-width: 8rem;
    margin-bottom: 0.25rem;
  }

  /* Botones de incrementar/decrementar */
  .increment-button, .decrement-button {
    width: auto;
    height: 2rem;
    padding: 0.5rem;
  }

  /* Input de cantidad */
  .quantity-input {
    width: 3rem;
    text-align: center;
    height: 2rem;
  }

  /* BotÃƒÂ3n delete */
  .delete-button {
    display: inline-block;
    padding: 0.25rem 0;
  }
}


  @media screen and (min-width: 768px) {
    .backdrop_blur.show{
      display: none;
    }
    header{
      border-radius: 10px 0px 10px 0px;
      display: flex;
      justify-content: space-between;
    }

    nav {
      display: flex;
      align-items: center;
      justify-content: center;
      justify-content: space-between;
      /* background-color: cadetblue; */
    }

    .nav-menu {
      position: relative;
      display: flex;
      flex-direction: row;
      align-items: center;
      justify-content: center;
      background: transparent;
      background-color: transparent;
      {% comment %} background-color: rgb(140, 143, 142); {% endcomment %}
      transform: translateX(0%);
      opacity: 1;
      gap: 0;
    }

    .nav-menu.show {
      height: auto;
      padding: 0;
      margin: 0;
      background: transparent;
      transition: transform .4s ease-in-out;
      transform: translateX(0%);
    }

    .nav-menu li {
      margin: 0;
      margin-left: 0;
      margin-top: 0;
      padding: 0;
      {% comment %} padding-top: 1.25px; {% endcomment %}
      cursor: pointer;
    }

    .nav-menu li:nth-child(1) {
      margin-top: 0;
      margin: 0;
      padding: 0;
    }

    .nav-menu li a{
      font-size: 14px;
      color: #010131;
      font-weight: 500;
      display: inline-block;
      position: relative;
      top: 1px;
      text-decoration: none;
      padding: 6px;
    }

    .nav-menu li a::after {
      content: '';
      position: absolute;
      bottom: 0;
      left: 0;
      width: 0;
      height: 2px;
      background-color: #010131; /* Mismo color que el texto del menú */
      transition: width 0.3s ease-out;
    }

    .nav-menu li:hover a::after,
    .nav-menu li a:hover::after {
      width: 100%;
    }

    .navbar-toggle {
      display: none;
    }
  }

  @media (max-height: 800px) {
    .middle_line {
      display: none;
    }
  }

  @media screen and (min-width: 1340px) {
    .background {
      max-width: 1280px;
      margin: 0 auto;
    }
    .backdrop_blur {
      max-width: 1280px;
      margin: 0 auto;
    }
    header {
      max-width: 1280px;
      margin: 0 auto;
    }
    {% comment %} .nav-menu li a{
      position: relative;
      top: 1px;
    } {% endcomment %}
  }

</style>
</head>
<body class="background">
  <div class="backdrop_blur"></div>
  <div class="flex min-h-screen flex-col xbg-green-100">
    <header class="flex-shrink-0 py-1">
      <a href="{% url 'list_products' %}" class="flex justify-start items-center logo">
        <figure class="w-full h-12 relative overflow-hidden">
          <img
            src="{% static 'assets/brand08.png' %}"
            alt=""
            class="w-full h-12 absolute inset-0 h-auto w-full object-cover blur-3xl scale-110 bg_image"
            loading="eager"
            aria-hidden="true"
          />
          <!-- Efecto shimmer/viento -->
          <div class="shimmer-effect absolute inset-0 w-10 h-15 z-[5]"></div>
          <!-- Imagen real -->
          <img
            src="{% static 'assets/brand08.png' %}"
            alt="{{ product.name }}"
            class="w-full h-12 object-cover transition-all duration-500 relative opacity-0"
            onload="setTimeout(() => { this.classList.remove('opacity-0'); this.classList.add('opacity-100'); this.parentElement.querySelector('.shimmer-effect').style.display='none'; this.parentElement.querySelector('.bg_image').style.display='none'; }, 1000);"
            loading="lazy"
          />
        </figure>
        {% comment %} <span class="self-center font-semibold text-md w-[4rem] leading-[1] xbg-green-300 ml-1.5 min-[375px]:block hidden">Coffee Shop</span> {% endcomment %}
      </a>
      <nav class="">
        <ul class="nav-menu">
          <li class="sm:block"><a href="{% url 'list_products' %}" class="text-nowrap">Home</a></li>
          <li><a href="#" class="">Blog</a></li>
          <li><a href="#" class="">Contact</a></li>
          <li><a href="#" class="">Services</a></li>
          {% if user.is_authenticated %}
            <li class="sm:block md:hidden"><a href="{% url 'my_order' %}" class="text-nowrap">My Orders</a></li>
          {% else %}
            <li class="sm:block md:hidden"><a href="{% url 'my_order' %}" class="text-nowrap">My Orders</a></li>
          {% endif %}
          {% if user.is_authenticated %}
            <li class="md:block"><a href="{% url 'add_product' %}" class="text-nowrap">Add Product</a></li>
          {% else %}
            <li class="sm:block md:hidden"><a href="{% url 'add_product' %}" class="text-nowrap">Add Product</a></li>
          {% endif %}

          <div class="middle_line border-gray-200 md:hidden"></div>
          <div class="flex md:hidden log_in__user w-full">
            <div class="flex items-center align-center justify-center">
              {% if user.is_authenticated %}
                <button type="button" class="relative w-auto text-sm bg-gray-800 rounded-full md:me-0 focus:ring-4 focus:ring-gray-300 dark:focus:ring-gray-600 w-10" id="user-menu-button1" aria-expanded="false" data-dropdown-toggle="user-dropdown1" data-dropdown-placement="bottom">
                  <span class="sr-only">Open user menu</span>

                  <figure class="w-11 h-11 relative overflow-hidden">
                    <div class="relative h-full w-auto rounded-md overflow-hidden">
                      <!-- ðŸ”1 Skeleton con ID Ãonico -->
                      <div id="skeleton-profile1" class="absolute inset-0 bg-gradient-to-r from-gray-300 via-gray-100 to-gray-300 shimmer-effect rounded-full">
                      </div>
                      <!-- ðŸ”1 Imagen real -->
                      <img
                        src="{% static 'assets/orig.webp' %}"
                        alt="profile"
                        class="h-full w-auto object-cover transition duration-700 opacity-0 rounded-full"
                        onload="
                          this.style.opacity='1';
                          document.getElementById('skeleton-profile1').style.display='none';
                        "
                      />
                    </div>
                  </figure>
                  <span class="top-0 start-7 absolute w-3.5 h-3.5 bg-green-500 border-2 border-white dark:border-gray-800 rounded-full"></span>
                </button>
                <span class="text-sm font-bold text-green dark:text-green text-ellipsis whitespace-nowrap overflow-hidden ml-2 mr-1">{{ user.username }}</span>
              {% endif %}
            </div>
            <div id="user-dropdown1" class="z-40 hidden w-[90%] text-base list-none bg-white shadow dark:bg-gray-400 dark:divide-white-400">
              <div class="px-4 py-3">
                <span class="block text-nowrap text-sm text-gray-900 dark:text-white">You got it champion</span>
              </div>
              <ul class="py-2" aria-labelledby="user-menu-button">
                <li>
                  <form action="{% url "logout" %}" method="post">
                    {% csrf_token %}
                    <button type="submit" class="block w-full border bg-gray-200 rounded-lg text-nowrap text-center px-4 py-2 text-sm text-gray-700 hover:bg-blue-100 dark:hover:bg-green-600 dark:text-white-200 dark:hover:text-white">Sign out</button>
                  </form>
                </li>
              </ul>
            </div>
          </div>
        </ul>

        <!--    mobile max-[768px]    -->
         {% if user.is_authenticated %}
          <button type="button" onclick="window.location.href='{% url 'my_order' %}'" class="truncate text-nowrap text-black bg-white hover:bg-gray-100 focus:ring-4 focus:outline-none focus:ring-blue-200 font-medium rounded-lg text-sm px-4 py-2 text-center dark:bg-white dark:text-black dark:hover:bg-gray-200 text-center inline-flex items-center ml-3 mr-0 block md:hidden absolute right-[64px] top-[4px]">
            <span class="order-count flex justify-center items-center self-center absolute font-semibold text-blue-900 absolute bottom-4 bg-yellow-400 bg-gradient-to-b from-yellow-400 to-white opacity-90 rounded-full h-5 w-5 transition">{{ cart_count }}</span>
            <svg class="mt-1 bg-red-100" stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 24 24" height="1.25rem" width="1.25rem" xmlns="http://www.w3.org/2000/svg">
              <path d="M6 2a2 2 0 0 0-2 2v18l4-2 4 2 4-2 4 2V4a2 2 0 0 0-2-2H6zm0 2h12v14.764l-2-.999-2 1-2-1-2 1-2-1-2 1V4z"></path><path d="M8 6h8v2H8zm0 4h8v2H8z"></path>
            </svg>
          </button>
        {% else %}
          <button type="button" onclick="window.location.href='{% url 'my_order' %}'" class="truncate text-nowrap text-black bg-white hover:bg-gray-100 focus:ring-4 focus:outline-none focus:ring-blue-200 font-medium rounded-lg text-sm px-4 py-2 text-center dark:bg-white dark:text-black dark:hover:bg-gray-200 text-center inline-flex items-center ml-3 mr-0 block absolute right-[64px] top-[4px] md:hidden">
            <span class="order-count flex justify-center items-center self-center absolute font-semibold text-blue-900 absolute bottom-4  bg-green-400 bg-gradient-to-b from-green-400 to-white opacity-90 rounded-full h-5 w-5 transition">{{ cart_count }}</span>
            <svg class="mt-1 bg-red-100" stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 24 24" height="1.25rem" width="1.25rem" xmlns="http://www.w3.org/2000/svg">
              <path d="M6 2a2 2 0 0 0-2 2v18l4-2 4 2 4-2 4 2V4a2 2 0 0 0-2-2H6zm0 2h12v14.764l-2-.999-2 1-2-1-2 1-2-1-2 1V4z"></path><path d="M8 6h8v2H8zm0 4h8v2H8z"></path>
            </svg>
          </button>
        {% endif %}

        <!--    min-[768px]    -->
        <div class="hidden md:block relative">
          <div class="flex items-center">
            <div class="flex items-center mr-1">
              {% if user.is_authenticated %}
                <span class="text-[14px] font-bold text-green dark:text-green mr-1.5 ml-1.5 xbg-blue-300 max-[800px]:max-w-[65px] max-[800px]:overflow-hidden max-[800px]:text-ellipsis max-[800px]:whitespace-nowrap max-[800px]:mr-0 md:pt-[1.5px]">{{ user.username }}</span>
                <button type="button" class="relative text-sm bg-gray-800 rounded-full md:me-0 focus:ring-4 focus:ring-gray-300 dark:focus:ring-gray-600 w-10" id="user-menu-button" aria-expanded="false" data-dropdown-toggle="user-dropdown" data-dropdown-placement="bottom">
                  <span class="sr-only">Open user menu</span>

                  <figure class="w-10 h-10 relative overflow-hidden">
                    <div class="relative w-full h-full rounded-md overflow-hidden">
                      <!-- ðŸ”1 Skeleton con ID Ãonico -->
                      <div id="skeleton-profile2" class="absolute inset-0 bg-gradient-to-r from-gray-300 via-gray-100 to-gray-300 shimmer-effect rounded-full">
                      </div>
                      <!-- ðŸ”1 Imagen real -->
                      <img
                        src="{% static 'assets/profile1.webp' %}"
                        alt="profile"
                        class="h-full w-full object-cover transition duration-700 opacity-0 rounded-full"
                        onload="this.style.opacity='1'; document.getElementById('skeleton-profile2').style.display='none';"
                      />
                    </div>
                  </figure>
                  <span class="top-0 start-7 absolute w-3.5 h-3.5 bg-green-500 border-2 border-white dark:border-gray-800 rounded-full"></span>
                </button>
                <div class="z-50 w-auto hidden my-4 text-base list-none bg-white divide-y divide-gray-100 rounded-lg shadow dark:bg-gray-700 dark:divide-gray-600 modal_banner_out" id="user-dropdown">
                  <div class="px-4 py-3">
                    <span class="block text-nowrap text-sm text-gray-900 dark:text-white">You got it champion</span>
                  </div>
                  <ul class="py-2" aria-labelledby="user-menu-button">
                    <li>
                      <form action="{% url 'logout' %}" method="post">
                        {% csrf_token %}
                        <button type="submit" class="block text-left w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600 dark:text-gray-200 dark:hover:text-white">Sign out</button>
                      </form>
                    </li>
                  </ul>
                </div>
              {% endif %}
            </div>
            <div class="relative flex items-center justify-center">
              {% if user.is_authenticated %}
                <button type="button" onclick="window.location.href='{% url 'my_order' %}'" class="truncate text-nowrap text-black bg-white hover:bg-gray-100 focus:ring-4 focus:outline-none focus:ring-blue-200 font-medium rounded-lg text-sm px-4 py-2 text-center dark:bg-white dark:text-black dark:hover:bg-gray-200 text-center inline-flex items-center ml-3 mr-0 block relative align-center">
                  <span class="order-count flex justify-center items-center self-center absolute font-semibold text-blue-900 absolute bottom-4  bg-green-400 bg-gradient-to-b from-green-400 to-white opacity-90 rounded-full h-5 w-5 transition">{{ cart_count }}</span>
                  <svg class="mt-1 bg-red-100" stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 24 24" height="1.25rem" width="1.25rem" xmlns="http://www.w3.org/2000/svg">
                    <path d="M6 2a2 2 0 0 0-2 2v18l4-2 4 2 4-2 4 2V4a2 2 0 0 0-2-2H6zm0 2h12v14.764l-2-.999-2 1-2-1-2 1-2-1-2 1V4z"></path><path d="M8 6h8v2H8zm0 4h8v2H8z"></path>
                  </svg>
                </button>

              {% else %}
                <button type="button"
                  onclick="window.location.href='{% url 'login' %}'" class="inline-flex items-center text-nowrap text-black bg-white hover:bg-gray-100 focus:ring-4 focus:outline-none focus:ring-blue-200 font-medium rounded-lg text-sm px-4 py-2 text-center dark:bg-white dark:text-black dark:hover:bg-gray-200 dark:focus:ring-blue-300 ml-1">
                  <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 24 24" height="1.25rem" width="1.25rem" xmlns="http://www.w3.org/2000/svg" class="mr-1 text-black">
                    <path d="M15 12c2.7 0 5-2.3 5-5s-2.3-5-5-5-5 2.3-5 5 2.3 5 5 5zm-9 8v-1c0-2.67 5.33-4 9-4s9 1.33 9 4v1H6zm3-9H6V8H4v3H1v2h3v3h2v-3h3z"></path>
                  </svg>
                </button>
                <button type="button" onclick="window.location.href='{% url 'my_order' %}'" class="truncate text-nowrap text-black bg-white hover:bg-gray-100 focus:ring-4 focus:outline-none focus:ring-blue-200 font-medium rounded-lg text-sm px-4 py-2 text-center dark:bg-white dark:text-black dark:hover:bg-gray-200 text-center inline-flex items-center ml-3 mr-0 block relative align-center">
                  <span class="order-count flex justify-center items-center self-center absolute font-semibold text-blue-900 absolute bottom-4  bg-yellow-400 bg-gradient-to-b from-yellow-400 to-white opacity-90 rounded-full h-5 w-5 transition">{{ cart_count }}</span>
                  <svg class="mt-1 bg-red" stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 24 24" height="1.25rem" width="1.25rem" xmlns="http://www.w3.org/2000/svg">
                    <path d="M6 2a2 2 0 0 0-2 2v18l4-2 4 2 4-2 4 2V4a2 2 0 0 0-2-2H6zm0 2h12v14.764l-2-.999-2 1-2-1-2 1-2-1-2 1V4z"></path><path d="M8 6h8v2H8zm0 4h8v2H8z"></path>
                  </svg>
                </button>
              {% endif %}
            </div>
          </div>
        </div>
        <div class="navbar-toggle">
          <div class="menu-btn__burger"></div>
        </div>
      </nav>
    </header>

    <div class="flex-1">
      <main class="">
      {% block content %}{% endblock content %}
      </main>
    </div>

    <footer class="bg-grey-100 rounded-lg dark:bg-gray-100 flex-shrink-0 mt-12 relative">
      {% if user.is_authenticated %}
        <section class="grid gap-1 sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-3">
          <div class="grid grid-cols-[auto_auto] items-center self-center mb-3">
            <figure class="w-11 h-11 me-3 relative overflow-hidden">
              <div class="relative w-full h-full rounded-md overflow-hidden">
                <!-- ðŸ”1 Skeleton con ID Ãonico -->
                <div id="skeleton-avatar1" class="absolute inset-0 bg-gradient-to-r from-gray-300 via-gray-100 to-gray-300 shimmer-effect rounded-full">
                </div>
                <!-- ðŸ”1 Imagen real -->
                <img
                  src="{% static 'assets/orig.webp' %}"
                  alt="Avatar"
                  class="h-full w-full object-cover transition duration-700 opacity-0 rounded-full"
                  onload="
                    this.style.opacity='1';
                    document.getElementById('skeleton-avatar1').style.display='none';
                  "
                />
              </div>
            </figure>
            <div class="">
              <a href="#" class="hover:underline py-2 tracking-tighter text-gray-500 text-sm md:text-md dark:text-gray-400">Contact</a>
              <p class="font-medium text-gray-900 text-[12px]  md:text-blue-700 md:p-0 md:dark:text-blue-500 leading-[1.25]">
                Lorem ipsum dolor sit, amet consectetur adipisicing elit. Rerum
                corporis ex. Lorem ipsum dolor sit, amet consectetur adipisicing elit.
              </p>
            </div>
          </div>
          <div class="grid grid-cols-[auto_auto] items-center self-center mb-3">
            <figure class="w-11 h-11 me-3 flex justify-center items-center self-center relative overflow-hidden">
              <!-- Imagen blur (background) -->
              <img
                src="{% static 'assets/user2.jpg' %}"
                alt=""
                class="w-10 h-10 absolute inset-0 h-auto w-full object-cover blur-3xl scale-110"
                loading="eager"
                aria-hidden="true"
              />
              <!-- Efecto shimmer/viento -->
              <div class="shimmer-effect absolute inset-0 w-10 h-10 z-[5]"></div>
              <!-- Imagen real -->
              <img
                src="{% static 'assets/user2.jpg' %}"
                alt="{{ product.name }}"
                class="w-full h-full object-cover transition-all duration-500 relative z-10 opacity-0"
                onload="setTimeout(() => { this.classList.remove('opacity-0'); this.classList.add('opacity-100'); this.parentElement.querySelector('.shimmer-effect').style.display='none'; }, 2000);"
                loading="lazy"
              />
            </figure>
            <div class="">
              <a href="#" class="hover:underline py-2 tracking-tighter text-gray-500 text-sm md:text-md dark:text-gray-400">Contact</a>
              <p class="font-medium text-[12px] text-gray-900 md:text-blue-700 md:p-0 md:dark:text-blue-500 leading-[1.25]">
                Lorem ipsum dolor sit, amet consectetur adipisicing elit. Rerum
                corporis ex. Lorem ipsum dolor sit, amet consectetur adipisicing elit.
              </p>
            </div>
          </div>
          <div class="grid grid-cols-[auto_auto] items-center self-center mb-3">
            <figure class="w-11 h-11 me-3 relative overflow-hidden">
              <div class="relative w-full h-full rounded-md overflow-hidden">
                <!-- ðŸ”1 Skeleton con ID Ãonico -->
                <div id="skeleton-avatar3" class="absolute inset-0 bg-gradient-to-r from-gray-300 via-gray-100 to-gray-300 shimmer-effect rounded-full">
                </div>
                <!-- ðŸ”1 Imagen real -->
                <img
                  src="{% static 'assets/transparent-summer-girl.png' %}"
                  alt="Avatar"
                  class="h-full w-full object-cover transition duration-700 opacity-0 rounded-full"
                  onload="
                    this.style.opacity='1';
                    document.getElementById('skeleton-avatar3').style.display='none';
                  "
                />
              </div>
            </figure>
            <div class="">
              <a href="#" class="hover:underline py-2 tracking-tighter text-gray-500 text-sm md:text-md dark:text-gray-400">Contact</a>
              <p class="font-medium text-[12px] text-gray-900 md:text-blue-700 md:p-0 md:dark:text-blue-500 leading-[1.25]">
                Lorem ipsum dolor sit, amet consectetur adipisicing elit. Rerum
                corporis ex. Lorem ipsum dolor sit, amet consectetur adipisicing elit.
              </p>
            </div>
          </div>
        </section>

        <div class="sm:flex sm:items-center sm:justify-between xbg-green-200 mt-9 mb-2">
          <a href="" class="flex sm:mb-0">
            {% load static %}
            <figure class="h-11 w-11 relative overflow-hidden xbg-yellow-400">
              <div class="relative h-full w-auto rounded-md overflow-hidden">
                <!-- ðŸ”1 Skeleton con ID Ãonico -->
                <div id="skeleton-brand1" class="absolute inset-0 bg-gradient-to-r from-gray-300 via-gray-100 to-gray-300 shimmer-effect rounded-full"></div>
                <!-- ðŸ”1 Imagen real -->
                <img
                  src="{% static 'assets/logo.png' %}"
                  alt="Avatar"
                  class="h-full w-auto pl-[5px] object-cover transition duration-700 opacity-0"
                  onload="
                    this.style.opacity='1';
                    document.getElementById('skeleton-brand1').style.display='none';
                  "
                />
              </div>
            </figure>
            <span class="flex self-center ml-1.5 font-semibold whitespace-nowrap dark:text-grey xbg-green-200">{{ user.username }}</span>
          </a>
          <ul class="flex flex-wrap items-center max-[639px]:mt-2 text-[12px] md:text-sm font-medium text-gray-500 sm:mb-0 dark:text-gray-400">
            <li>
                <a href="#" class="hover:underline me-4 md:me-6">About</a>
            </li>
            <li>
                <a href="#" class="hover:underline me-4 md:me-6">Privacy Policy</a>
            </li>
            <li>
                <a href="#" class="hover:underline me-4 md:me-6">Licensing</a>
            </li>
            <li>
                <a href="#" class="hover:underline">Contact</a>
            </li>
          </ul>
        </div>
        <hr class="border-gray-400 sm:mx-auto dark:border-gray-400" />
      {% else %}
        <section class="hidden"></section>
      {% endif %}
      <div class="w-screen relative left-1/2 right-1/2 -ml-[50vw] -mr-[50vw] footer-blur overflow-hidden  ">
        <img
          src="{% static 'assets/zimage6.png' %}"
          alt=""
          class="absolute inset-0 w-full h-full object-cover blur-3xl scale-50 -z-10 opacity-50 scale-y-[-1]"
          aria-hidden="true"
        />
        <div class="max-w-screen-xl mx-auto">
          {% comment %} <hr class="border-gray-400 sm:mx-auto dark:border-gray-400" /> {% endcomment %}
          <span class="flex items-center justify-center text-sm my-2 xl:my-3 text-gray-500 sm:text-center dark:text-gray-500">© 2025. All Rights Reserved.</span>
        </div>
      </div>
    </footer>
  </div>
<script src="https://cdn.jsdelivr.net/npm/flowbite@2.5.2/dist/flowbite.min.js"></script>

<script>
  const navbarToggle = document.querySelector('.navbar-toggle');
  const navMenu = document.querySelector('.nav-menu');
  const backgproundBlur = document.querySelector('.backdrop_blur')
  const logo = document.querySelector('.logo')
  let menuOpen = false;

  navbarToggle.addEventListener('click', () => {
    if(!menuOpen) {
      navbarToggle.classList.add('open');
      menuOpen = true;
      logo.classList.add('active');
      document.body.classList.toggle('menu-open');

    } else {
      navbarToggle.classList.remove('open');
      menuOpen = false;
      logo.classList.remove('active');
      document.body.classList.remove('menu-open');
    }

    backgproundBlur.classList.toggle('show');
    navbarToggle.classList.toggle('active');
    navMenu.classList.toggle('active');
    navMenu.classList.toggle('show');
    navMenu.classList.remove('close');

    bars.forEach(child => {
      child.classList.toggle('animations')
    })
  })

  document.addEventListener('click', ( e ) => {
    if (!navbarToggle.contains(e.target) && !navMenu.contains(e.target) ) {
      backgproundBlur.classList.remove('show');
      navMenu.classList.remove('show');
      navMenu.classList.remove('close');
      navbarToggle.classList.remove('open');
      logo.classList.remove('active');
      menuOpen = false;
      document.body.classList.remove('menu-open');
      console.log("click document.addEventListener")
  }
  });

    // Create a MediaQueryList object
  var x = window.matchMedia("(min-width: 768px)")

  function minwidth(x) {
    if (x.matches) { // If media query matches
      backgproundBlur.classList.remove('show');
      navMenu.classList.remove('show');
      navMenu.classList.remove('close');
      navbarToggle.classList.remove('open');
      logo.classList.remove('active');
      document.body.classList.remove('menu-open');
      console.log("min-width: 768px")

      menuOpen = false;

    } else {
      {% comment %} document.body.style.backgroundColor = "pink"; {% endcomment %}
    }
  }

  // Call listener function at run time
  minwidth(x);

  // Attach listener function on state changes
  x.addEventListener("change", function() {
    minwidth(x);
  });
  </script>
</body>
</html>
